<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>PyBook Python Hints</title>
<link rel="stylesheet" href="lib/bulma.min.css">
<link rel="stylesheet" href="lib/material.css">
<link rel="stylesheet" href="build/main_console.css">
<script src="mathjax-config.js" defer></script>
<script id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
</head>
<body>

<section class="section">
    <div class="container">
        <div class="columns">
            <div class="column is-four-fifths">

                <div class="box">
                    <div class="content">
                        <p class="subtitle is-4">Python Hints</p>

<p class="subtitle is-5">Output</p>
<p>When you evaluate input, the Python interpreter will evaluate all the expressions in your input. Values that are not <tt>None</tt> will
be shown in the output with an arrow, like this: <tt>‚Üí 4</tt>.</p>
<p>You can print to <tt>stdout</tt> and <tt>stderr</tt> as well.</p>
<pre><code>4
print('üêç' * 10 + ' Hello world!')
import sys
sys.stderr.write('Warning!\n')</code></pre>

<p class="subtitle is-5">Input</p>
<p>When the interpreter is waiting for input, you will see the symbol <span class="material-icons">pending</span>.
You can enter text and press <span class="tag">Enter</span> to submit it.</p>
<pre><code>name = input('What is your name? ')
print(f'Hello, {name}.')</code></pre>

<p class="subtitle is-5">Interrupting</p>
<p>While the interpreter is evaluating you will see a busy symbol <span class="material-icons">autorenew</span>.
You can interrupt evaluation with <span class="tag">Ctrl</span>-<span class="tag">C</span>. </p>
<pre><code>while True:
    pass</code></pre>

<p class="subtitle is-5">Python Packages</p>
<p>Packages provided in the Python standard library can be imported with <tt>import</tt>.</p>
<p>For example:</p>
<pre><code>import math</code></pre>
<p>See the list of <a href="https://docs.python.org/3.10/library/">Python packages</a>.</p>

<p class="subtitle is-5">Pyodide Packages</p>
<p>Packages provided by Pyodide can be imported with <tt>import</tt>.</p>
<p>For example:</p>
<pre><code>import numpy</code></pre>
<p>See the list of <a href="https://pyodide.org/en/stable/usage/packages-in-pyodide.html">supported packages</a>.</p>

<p class="subtitle is-5">Pure Python Packages</p>
<p>Packages available on PyPI that are pure Python can be installed with <tt>micropip</tt>.</p>
<p>For example:</p>
<pre><code>import micropip
await micropip.install('hypothesis')
import hypothesis</code></pre>

<p class="subtitle is-5">Debugging</p>
<p>Simple interactive debugging can be done using <tt>pdb</tt>. Within your code, set breakpoints by
calling <tt>breakpoint()</tt>. When your code hits a breakpoint the interactive debugger will be started.
You can examine state, continue execution, or quit.</p>
<pre><code>def factorial(n):
    breakpoint()
    return n * factorial(n - 1)

factorial(2)</code></pre>
<p>To debug the example, try entering <tt>c</tt> four times when the interactive debugger starts.
Then try <tt>p n</tt> to see the value of <tt>n</tt>. Try <tt>bt</tt> to get a backtrace. Enter <tt>q</tt> to quit.</p>

<p class="subtitle is-5">HTML</p>
<p>Using the <tt>pybook</tt> package you can output sanitized HTML. Here is an example showing an
icon from Google Material Icons.</p>

<pre><code>import pybook
pybook.output_content('text/html', '&lt;span class="material-icons"&gt;sailing&lt;/span&gt;')
</code></pre>

<p>Allowed content types include <tt>text/plain</tt>, <tt>text/html</tt>, <tt>image/png</tt>, <tt>image/svg+xml</tt>, and <tt>audio/wav</tt>. HTML output
is sanitized through DOMPurify which only allows a subset of content.</p>

<p>Here is example showing generation of an audio clip.</p>
<pre><code>import wave
import struct
import math

sampleRate = 44100.0 # hertz
duration = 4.0 # seconds
frequency = 120.0 # hertz
phase_delta = 1.0 / sampleRate * frequency * math.tau
phase = 0.0
feedback = 0.8
N = int(sampleRate * duration)
obj = wave.open('sound.wav','wb')
obj.setnchannels(1) # mono
obj.setsampwidth(2)
obj.setframerate(sampleRate)
output = 0
for i in range(N):
    phase += phase_delta
    ramp = (N - i) / N
    output = math.sin(phase + 10 * ramp * math.sin(phase) + ramp * feedback * output)
    obj.writeframesraw(struct.pack('&lt;h', int(output * 32767.0)))
obj.close()

import pybook
data = open('sound.wav', 'rb').read()
pybook.output_content('audio/wav', data)
</code></pre>

<p class="subtitle is-5">Copy and Paste</p>
<p>The console supports multiline editing. You can copy larger fragments from other sources and paste in the code, then edit and evaluate them.</p>
<p>One small note is that if you are trying to copy and paste within the input area, the binding for <span class="tag">Ctrl</span>-<span class="tag">C</span>
is to interrupt the interpreter. You can use a right click to copy in this case.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

</body>
</html>
